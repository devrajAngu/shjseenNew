CNVS.ScrollDetect=function(){function v(t){var r,l=0,n=0,o=0,i=0;r=t,fastdom.measure(function(){var t,e,s=window.scrollY;s>=r.start&&s<=r.end?(t=s-r.start,e=s-r.offset,l=t/r.range.full*100,o=t/r.range.start,i=s>r.start+r.height&&s<r.offset?(o=1,0):s>=r.offset?(o=1,e/r.range.end):0,n=o-i):s>r.end?(l=100,n=0,o=i=1):l=n=o=i=0,0<n?r.elem.classList.add("scroll-detect-inview"):r.elem.classList.remove("scroll-detect-inview"),0<o&&o<1?r.elem.classList.add("scroll-detect-inview-start"):r.elem.classList.remove("scroll-detect-inview-start"),0<i&&i<1?r.elem.classList.add("scroll-detect-inview-end"):r.elem.classList.remove("scroll-detect-inview-end"),r.elem.style.setProperty("--cnvs-scroll-percent",l),r.elem.style.setProperty("--cnvs-scroll-ratio",n),r.elem.style.setProperty("--cnvs-scroll-start",o),r.elem.style.setProperty("--cnvs-scroll-end",i)})}function e(){g.forEach(function(t){v(t)})}var h=SEMICOLON.Core,g=[];return{init:function(r){if(h.getSelector(r,!1,!1).length<1)return!0;h.loadJS({file:"plugins.fastdom.js",id:"canvas-fastdom-js",jsFolder:!0}),h.isFuncTrue(function(){return"undefined"!=typeof fastdom}).then(function(t){var u,s;return!!t&&(h.initFunction({class:"has-plugin-scrolldetect",event:"pluginScrollDetectReady"}),(r=h.getSelector(r,!1)).length<1||(u=new ResizeObserver(function(t){t.forEach(function(t){var e=e||setTimeout(function(){s(r),e=!1},333)})}),(s=function(t){g=[],t.forEach(function(t){var e=t.offsetWidth,s=t.offsetHeight,r=h.offset(t).top,l=h.getVars.viewport.height,n=t.getAttribute("data-include-width"),o=t.getAttribute("data-include-height"),i=t.getAttribute("data-include-offset"),a=t.getAttribute("data-scroll-offset"),c=t.getAttribute("data-parallax-ratio"),d={},a=(a&&(1<(a=a.split("%")).length?r+=l*Number(a[0])*.01:1==a.length&&a[0]&&(r+=Number(a[0]))),r-l),l=r+s,f=l-a;d.elem=t,d.start=a,d.end=l,d.range={start:s,end:s,full:f},d.width=e,d.height=s,d.offset=r,("true"==n||t.classList.contains("parallax")&&"horizontal"==t.getAttribute("data-parallax-direction"))&&t.style.setProperty("--cnvs-scroll-width",d.width),("true"==o||t.classList.contains("parallax")&&"horizontal"!=t.getAttribute("data-parallax-direction"))&&t.style.setProperty("--cnvs-scroll-height",d.height),"true"==i&&t.style.setProperty("--cnvs-scroll-offset",d.offset),isNaN(c)||t.style.setProperty("--cnvs-parallax-ratio",c),v(d),g.push(d),u.observe(t)})})(r),e(),window.addEventListener("scroll",function(){fastdom.mutate(function(){e()})},{passive:!0}),void u.observe(document.documentElement)))})}}}();