!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=tinymce.util.Tools.resolve("tinymce.Env");const t=t=>e=>e.options.get(t),m=t("min_height"),u=t("max_height"),h=t("autoresize_overflow_padding"),a=t("autoresize_bottom_margin"),p=(e,t)=>{e=e.getBody();e&&(e.style.overflowY=t?"":"hidden",t||(e.scrollTop=0))},y=(e,t,o,i)=>{t=parseInt(null!=(e=e.getStyle(t,o,i))?e:"",10);return isNaN(t)?0:t},v=(o,i,s,n)=>{var r=o.dom,l=o.getDoc();if(l)if((a=o).plugins.fullscreen&&a.plugins.fullscreen.isFullscreen())p(o,!0);else{var a=l.documentElement,l=n?n():h(o),g=null!=(g=m(o))?g:o.getElement().offsetHeight;let e=g;var d=y(r,a,"margin-top",!0),f=y(r,a,"margin-bottom",!0);let t=a.offsetHeight+d+f+l;t<0&&(t=0);a=o.getContainer().offsetHeight-o.getContentAreaContainer().offsetHeight,d=(t+a>g&&(e=t+a),u(o));if(d&&e>d?(e=d,p(o,!0)):p(o,!1),e!==i.get()){const m=e-i.get();if(r.setStyle(o.getContainer(),"height",e+"px"),i.set(e),o.dispatch("ResizeEditor"),c.browser.isSafari()&&(c.os.isMacOS()||c.os.isiOS())){const c=o.getWin();c.scrollTo(c.pageXOffset,c.pageYOffset)}!o.hasFocus()||"setcontent"!==(null==(f=s)?void 0:f.type.toLowerCase())||!0!==f.selection&&!0!==f.paste||o.selection.scrollIntoView(),(c.browser.isSafari()||c.browser.isChromium())&&m<0&&v(o,i,s,n)}}};e.add("autoresize",e=>{if((n=e.options.register)("autoresize_overflow_padding",{processor:"number",default:1}),n("autoresize_bottom_margin",{processor:"number",default:50}),e.options.isSet("resize")||e.options.set("resize",!1),e.inline)var t,o;else{var n=(()=>{let t=0;return{get:()=>t,set:e=>{t=e}}})();o=n,(t=e).addCommand("mceAutoResize",()=>{v(t,o)});{var r=e,l=n;let i,t,s=()=>a(r);r.on("init",e=>{i=0;var t=h(r),o=r.dom;o.setStyles(r.getDoc().documentElement,{height:"auto"}),c.browser.isEdge()||c.browser.isIE()?o.setStyles(r.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0}):o.setStyles(r.getBody(),{paddingLeft:t,paddingRight:t}),v(r,l,e,s),i+=1}),r.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",e=>{if(1===i)t=r.getContainer().offsetHeight,v(r,l,e,s),i+=1;else if(2===i){const e=t<r.getContainer().offsetHeight;if(e){const e=r.dom,l=r.getDoc();e.setStyles(l.documentElement,{"min-height":0}),e.setStyles(r.getBody(),{"min-height":"inherit"})}s=e?()=>0:s,i+=1}else v(r,l,e,s)})}}})}();