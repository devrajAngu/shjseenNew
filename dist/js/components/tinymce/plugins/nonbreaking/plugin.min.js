!function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const e=e=>n=>typeof n===e,i=e("boolean"),s=e("number"),a=e=>n=>n.options.get(e),l=a("nonbreaking_force_tab"),t=a("nonbreaking_wrap"),r=(e,a)=>{let o="";for(let n=0;n<a;n++)o+=e;return o},c=(n,e)=>{const a=t(n)||n.plugins.visualchars?`<span class="${o=n,!!o.plugins.visualchars&&o.plugins.visualchars.isEnabled()?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${r("&nbsp;",e)}</span>`:r("&nbsp;",e);var o;n.undoManager.transact(()=>n.insertContent(a))};var u=tinymce.util.Tools.resolve("tinymce.util.VK");const b=a=>n=>{const e=()=>{n.setEnabled(a.selection.isEditable())};return a.on("NodeChange",e),e(),()=>{a.off("NodeChange",e)}};n.add("nonbreaking",n=>{(t=n.options.register)("nonbreaking_force_tab",{processor:n=>i(n)?{value:n?3:0,valid:!0}:s(n)?{value:n,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0}),(o=n).addCommand("mceNonBreaking",()=>{c(o,1)}),t=()=>a.execCommand("mceNonBreaking"),(a=n).ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:b(a)}),a.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:b(a)});{var e=n;const r=l(e);0<r&&e.on("keydown",n=>{n.keyCode!==u.TAB||n.isDefaultPrevented()||n.shiftKey||(n.preventDefault(),n.stopImmediatePropagation(),c(e,r))})}var a,o,t})}();