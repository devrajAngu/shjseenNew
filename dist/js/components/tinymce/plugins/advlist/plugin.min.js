!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const c=(e,t,r)=>{e.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===r?null:{"list-style-type":r})},t=t=>e=>e.options.get(t),s=t("advlist_number_styles"),i=t("advlist_bullet_styles"),r=e=>null==e,n=e=>!r(e);var p=tinymce.util.Tools.resolve("tinymce.util.Tools");class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return n(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const l=t=>e=>n(e)&&t.test(e.nodeName),a=l(/^(OL|UL|DL)$/),u=l(/^(TH|TD)$/),y=e=>r(e)||"default"===e?"":e,f=(l,o)=>n=>{return t=e=>{return t=l,e=e.parents,i=t.selection.getStart(!0),n.setActive((r=t,s=o,((r,s)=>{for(let e=0,t=r.length;e<t;e++){var i=r[e];if(a(n=i)&&!/\btox\-/.test(n.className))return v.some(i);if(s(i,e))break}var n;return v.none()})(e,u).exists(e=>{return e.nodeName===s&&r.dom.isChildOf(e,r.getBody())}))),void n.setEnabled(!(null!==(i=(e=t).dom.getParent(i,"ol,ul,dl"))&&!e.dom.isEditable(i)&&e.selection.isEditable())&&t.selection.isEditable());var t,r,s,i},r=(e=l).selection.getNode(),t({parents:e.dom.getParents(r),element:r}),e.on("NodeChange",t),()=>e.off("NodeChange",t);var e,t,r},o=(e,t,r,s,i,n)=>{var l,o,a,u,d,g,h,m;1<n.length?(g=s,h=i,m=n,(d=e).ui.registry.addSplitButton(t,{tooltip:r,icon:"OL"===h?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(p.map(m,e=>{var t="OL"===h?"num":"bull",r="disc"===e||"decimal"===e?"default":e;return{type:"choiceitem",value:y(e),icon:"list-"+t+"-"+r,text:e.replace(/\-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}}))},onAction:()=>d.execCommand(g),onItemAction:(e,t)=>{c(d,h,t)},select:t=>{var e,r;return r=(e=d).dom.getParent(e.selection.getNode(),"ol,ul"),e=e.dom.getStyle(r,"listStyleType"),v.from(e).map(e=>t===e).getOr(!1)},onSetup:f(d,h)})):(l=e,e=t,t=r,o=s,a=i,u=y(n[0]),l.ui.registry.addToggleButton(e,{active:!1,tooltip:t,icon:"OL"===a?"ordered-list":"unordered-list",onSetup:f(l,a),onAction:()=>l.queryCommandState(o)||""===u?l.execCommand(o):c(l,a,u)}))};e.add("advlist",e=>{var r,t;e.hasPlugin("lists")?((t=e.options.register)("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")}),t=e,o(t,"numlist","Numbered list","InsertOrderedList","OL",s(t)),o(t,"bullist","Bullet list","InsertUnorderedList","UL",i(t)),(r=e).addCommand("ApplyUnorderedListStyle",(e,t)=>{c(r,"UL",t["list-style-type"])}),r.addCommand("ApplyOrderedListStyle",(e,t)=>{c(r,"OL",t["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();