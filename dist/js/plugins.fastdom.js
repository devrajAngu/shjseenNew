!function(e){"use strict";function t(){var t=this;t.reads=[],t.writes=[],t.raf=i.bind(e)}function r(t){t.scheduled||(t.scheduled=!0,t.raf(function(t){var e,n=t.writes,i=t.reads;try{i.length,t.runTasks(i),n.length,t.runTasks(n)}catch(t){e=t}if(t.scheduled=!1,(i.length||n.length)&&r(t),e){if(e.message,!t.catch)throw e;t.catch(e)}}.bind(null,t)))}function n(t,e){e=t.indexOf(e);return!!~e&&!!t.splice(e,1)}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return setTimeout(t,16)},s=(t.prototype={constructor:t,runTasks:function(t){for(var e;e=t.shift();)e()},measure:function(t,e){e=e?t.bind(e):t;return this.reads.push(e),r(this),e},mutate:function(t,e){e=e?t.bind(e):t;return this.writes.push(e),r(this),e},clear:function(t){return n(this.reads,t)||n(this.writes,t)},extend:function(t){if("object"!=typeof t)throw new Error("expected object");var e,n=Object.create(this),i=n,r=t;for(e in r)r.hasOwnProperty(e)&&(i[e]=r[e]);return n.fastdom=this,n.initialize&&n.initialize(),n},catch:null},e.fastdom=e.fastdom||new t);"function"==typeof define?define(function(){return s}):"object"==typeof module&&(module.exports=s)}("undefined"!=typeof window?window:this);